<%- include('_layouts/header2') -%>
<main>
    <section>
        <h1>Edit Contact</h1>
        <form method="POST" action="/edit/<%= contact._id %>"
            enctype="multipart/form-data">
            <div class="form-field">
                <label for="name">Title:</label>
                <input type="text" class="form-input" name="name" value="<%= contact.name %>">
            </div>
            <div class="form-field">
                <label for="phone">Tag:</label>
                <input type="text" class="form-input" name="tag" value="<%= contact.tag %>">
            </div>
            <div class="form-field">
                <label for="message">Content:</label>
                <textarea id="message" name="message"><%- contact.message %></textarea>
            </div>
            <div class="form-field">
                <label for="myimage">Logo:</label>
                <input type="file" class="form-input" name="myimage" id="myimage">
            </div>
            <div class="form-field">
                <input type="submit" class="form-submit" value="Submit">
            </div>
        </form>
        <% 
            if(typeof errors !== 'undefined'){
                for(var error of errors){
                    %>
                    <h3><%= error.msg %></h3>
                    <%
                }
            }
        %>
    </section>
</main>
<script>
    ClassicEditor
        .create( document.querySelector( '#message' ) )
        .catch( error => {
            console.error( error );
        } );
</script>
<%- include('_layouts/footer') -%>